{% extends '@Salarie/base.html.twig' %}

{% block subtitle_page_header %} Statistique {% endblock subtitle_page_header %}


{% block body %}
    <div class="form-horizontal">

        <div class="form-group">
            <label class="control-label col-sm-2" for="email">Caractéristique étudié:</label>
            <div class="col-sm-10">
                <select class="form-control" name="chart-type" id="chart-type">
                    <option value="0">Proportion age et homme/femme</option>
                    <option value="1">Type de contrat</option>
                    <option value="2">Evolution du nombre de CDI</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2" for="email">Condition:</label>
            <div id="builder" class="col-sm-10"></div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-warning btn-reset">Réinitilisation des conditions</button>
                <button class="btn btn-primary btn-get">Génération</button>
             </div>
        </div>
    </div>

    <canvas id="myChart" width="400" height="400"></canvas>
{% endblock %}

{% block javascripts %}
    {{- parent() -}}
    <script charset="UTF-8">
        var __APP_REQUEST_LOCALE__ = "{{ app.request.locale }}";
        var __AJAX_URL__ = "{{ path('salarie_statistiques_generator') }}";
    </script>
    {% javascripts
        'components/moment/moment.js'
        'components/bootstrap-datepicker/js/bootstrap-datepicker.js'
        'components/bootstrap-datepicker/js/locales/bootstrap-datepicker.fr.js'
        '%kernel.root_dir%/../vendor/seiyria/bootstrap-slider/js/bootstrap-slider.js'
        '%kernel.root_dir%/../vendor/mistic100/jquery-querybuilder/dist/js/query-builder.standalone.js'
        '%kernel.root_dir%/../vendor/mistic100/jquery-querybuilder/dist/i18n/query-builder.fr.js'
        '%kernel.root_dir%/../vendor/nnnick/chartjs/dist/Chart.js'
        '@SalarieBundle/Resources/js/statistiques.js'
    %}
        <script src="{{ asset_url }}" charset="UTF-8"></script>
    {% endjavascripts %}
{% endblock %}